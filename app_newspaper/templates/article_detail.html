{% extends "base.html" %}
{% load crispy_forms_tags %}

{% comment %} 

SENA CBA CENTRO DE BIOTECNOLOGIA AGROPECUARIA
PROGRAMACION DE SOFTWARE

FICHA: 2877795
AUTOR: NICOLAS ANDRES ACOSTA HIGUERA
PROYECTO: NEWSPAPER (templates/article_detail.html)
FECHA: 29/09/2024
VERSION: 1.0

{% endcomment %}

<!--  templates/article_detail.html -->

{% block content %}
    <div class="article-entry">
        <h2 style="color: var(--color-texto);">{{ object.title }}</h2>
        <p style="color: var(--color-texto);">by {{ object.author }} | {{ object.date }}</p>
        <p style="color: var(--color-texto);">{{ object.content }}</p>
    </div>
    <hr style="color: var(--color-texto); border: solid 2px">
    <h4 style="color: var(--color-texto);">Comments</h4>
    {% for comment in article.comment_set.all %}
        <p style="color: var(--color-texto);">{{ comment.author }} &middot; {{ comment }}</p>
        {% if comment.author == request.user %}
            <a href="{% url 'comment_edit' comment.pk %}">Edit</a>
        {% endif %}
    {% endfor %}
    <hr>
    <!-- Formulario de comentarios para postear -->
    <h4 style="color: var(--color-texto);">Add a Comment</h4>
    <form action="" method="post" style="color: var(--color-texto);">
        {%csrf_token%}
        {{ form|crispy }}
        <button class="btn btn-success ml-2" type="submit">Save</button>
    </form>
        <p class="mt-3">
            <a href="{% url 'article_edit' article.pk %}">Edit</a> | 
            <a href="{% url 'article_delete' article.pk %}">Delete</a>
        </p>         
    <p style="color: var(--color-texto);">Back to <a href="{% url 'article_list' %}">All Articles</a>.</p>    
{% endblock content %}
    
